user - iduser, username, email, senha, estatísticas, conquistas, nível, assinatura

produtos(filtro) - idprodutos
categoria produtos - idcategoria, skins, pontos, assinaturas, pacotes?, descontos?

transações(filtro) - idtransações
categoria transações - idcategoria, pagamento e a forma? n entendi

histórico de partidas - idHPartidas, iduser(fazer puxar o nick?), idrobo,

--duplinha
robo - idrobo, idrobopostos, bateria, idHPartidas, ???,tempo ativo?
robo postos - idrobo, idrobopostos, cep, uf, estado, cidade

postos- local, idroboPostos, cep, estado, cidade...

-------------------------------------------------------------------------------------

-- Tabela de Usuários
CREATE TABLE [user] (
    iduser INT PRIMARY KEY,
    username NVARCHAR(50),
    email NVARCHAR(100),
    senha NVARCHAR(100),
    estatisticas NVARCHAR(MAX),
    conquistas NVARCHAR(MAX),
    nivel INT,
    assinatura NVARCHAR(50)
);

-- Tabela de Produtos
CREATE TABLE produtos (
    idprodutos INT PRIMARY KEY
);

-- Tabela de Categoria de Produtos
CREATE TABLE categoria_produtos (
    idcategoria INT PRIMARY KEY,
    skins NVARCHAR(MAX),
    pontos INT,
    assinaturas NVARCHAR(MAX),
    pacotes NVARCHAR(MAX),
    descontos NVARCHAR(MAX)
);

-- Tabela de Transações
CREATE TABLE transacoes (
    idtransacoes INT PRIMARY KEY
);

-- Tabela de Categoria de Transações
CREATE TABLE categoria_transacoes (
    idcategoria INT PRIMARY KEY,
    pagamento NVARCHAR(50),
    forma NVARCHAR(50)
);

-- Tabela de Histórico de Partidas
CREATE TABLE historico_partidas (
    idHPartidas INT PRIMARY KEY,
    iduser INT,
    idrobo INT,
    FOREIGN KEY (iduser) REFERENCES user,
    FOREIGN KEY (idrobo) REFERENCES robo(idrobo)
);

-- Tabela de Robôs
CREATE TABLE robo (
    idrobo INT PRIMARY KEY,
    idrobopostos INT,
    bateria NVARCHAR(50),
    idHPartidas INT,
    tempo_ativo NVARCHAR(50),
    FOREIGN KEY (idrobopostos) REFERENCES robo_postos(idrobopostos),
    FOREIGN KEY (idHPartidas) REFERENCES historico_partidas(idHPartidas)
);

-- Tabela de Robô Postos
CREATE TABLE robo_postos (
    idrobopostos INT PRIMARY KEY,
    cep NVARCHAR(20),
    uf NVARCHAR(2),
    estado NVARCHAR(50),
    cidade NVARCHAR(50)
);

-- Tabela de Postos
CREATE TABLE postos (
    local NVARCHAR(100),
    idroboPostos INT,
    cep NVARCHAR(20),
    estado NVARCHAR(50),
    cidade NVARCHAR(50),
    FOREIGN KEY (idroboPostos) REFERENCES robo_postos(idrobopostos)
);
